---
title: "Kubernetes The Hard Way"
date: 2025-03-23
slug: kubernetes-the-hard-way
---

import { PORTS } from '@site/src/constants/kubernetes/ports'
import { CUSTOM_VALUE } from '@site/src/constants/kubernetes/customValue'
import { COMPONENTS_VERSION } from '@site/src/constants/kubernetes/componentsVersion'
import MastersTabs from '@site/docs/tech-docs/kubernetes/setupEnvironments/allMasterTabs.mdx'
import ContainerdDownloadBIN from '@site/docs/tech-docs/kubernetes/components/containerd/downloadBIN.mdx'
import RuncDownloadBIN from '@site/docs/tech-docs/kubernetes/components/runc/downloadBIN.mdx'
import CrictlDownloadBIN from '@site/docs/tech-docs/kubernetes/components/crictl/downloadBIN.mdx'
import KubectlDownloadBIN from '@site/docs/tech-docs/kubernetes/components/kubectl/downloadBIN.mdx'
import KubeadmDownloadBIN from '@site/docs/tech-docs/kubernetes/components/kubeadm/downloadBIN.mdx'
import KubeletDownloadBIN from '@site/docs/tech-docs/kubernetes/components/kubelet/downloadBIN.mdx'
import EtcdDownloadBIN from '@site/docs/tech-docs/etcd/components/etcd/downloadBIN.mdx'

import ContainerdStartSystemdUnit from '@site/docs/tech-docs/kubernetes/components/containerd/startSystemdUnit.mdx'
import ContainerdSetupSystemdUnit from '@site/docs/tech-docs/kubernetes/components/containerd/setupSystemdUnit.mdx'
import ContainerdConfigFiles from '@site/docs/tech-docs/kubernetes/components/containerd/configFiles.mdx'

import CrictlConfigFiles from '@site/docs/tech-docs/kubernetes/components/crictl/configFiles.mdx'

import KubeletEnableSystemdUnit from '@site/docs/tech-docs/kubernetes/components/kubelet/systemdUnit/systemdUnitEnable.mdx'
import KubeletSetupSystemdUnit from '@site/docs/tech-docs/kubernetes/components/kubelet/setupSystemdUnit.mdx'
import KubeletConfigFiles from '@site/docs/tech-docs/kubernetes/components/kubelet/configFiles.mdx'

import KubeadmConfigFiles        from '@site/docs/tech-docs/kubernetes/components/kubeadm/configFiles.mdx'
import KubeadmDIR                from '@site/docs/tech-docs/kubernetes/components/kubeadm/dir.mdx'

import ComponentsReady from '@site/docs/tech-docs/kubernetes/components/componentsReadyComponent.mdx'

import KubernetesCA from '@site/docs/tech-docs/kubernetes/certificates/centerAuthority/kubernetesCA/main.mdx'
import FrontProxyCA from '@site/docs/tech-docs/kubernetes/certificates/centerAuthority/frontProxyCA/main.mdx'
import ETCDCA   from '@site/docs/tech-docs/etcd/certificates/centerAuthority/etcdCA/main.mdx'

import KubeletServer from '@site/docs/tech-docs/kubernetes/certificates/components/kubelet/kubeletServer/main.mdx'
import KubeAPIETCDClientMain from '@site/docs/tech-docs/kubernetes/certificates/components/kubeAPI/etcdClient/main.mdx'
import KubeletClientMain from '@site/docs/tech-docs/kubernetes/certificates/components/kubeAPI/kubeletClient/main.mdx'
import FrontProxyClientMain from '@site/docs/tech-docs/kubernetes/certificates/components/kubeAPI/frontProxyClient/main.mdx'
import KubeAPIServerMain from '@site/docs/tech-docs/kubernetes/certificates/components/kubeAPI/kubeAPIServer/main.mdx'
import ETCDClientETCDMain from '@site/docs/tech-docs/etcd/certificates/components/etcd/etcdClient/main.mdx'
import ETCDServerMain from '@site/docs/tech-docs/etcd/certificates/components/etcd/etcdServer/main.mdx'
import ETCDPeerMain from '@site/docs/tech-docs/etcd/certificates/components/etcd/etcdPeer/main.mdx'

import KubeSchedulerCerts from '@site/docs/tech-docs/kubernetes/certificates/components/kubeScheduler/main.mdx'
import KubeAPIClient from '@site/docs/tech-docs/kubernetes/certificates/components/kubelet/kubeAPIClient/main.mdx'
import AdminClientMain from '@site/docs/tech-docs/kubernetes/certificates/components/admin/adminClient/main.mdx'
import SuperAdminClientMain from '@site/docs/tech-docs/kubernetes/certificates/components/admin/superAdminClient/main.mdx'
import KubeControllerKubeAPIClient from '@site/docs/tech-docs/kubernetes/certificates/components/kubeControllerManager/kubeAPIClient/main.mdx'

import ServiceAccount from '@site/docs/tech-docs/kubernetes/certificates/serviceAccountComponent.mdx'
import Examination from '@site/docs/tech-docs/kubernetes/certificates/examinationComponent.mdx'

import KubeApiSetup from '@site/docs/tech-docs/kubernetes/components/kubeAPI/setupComponent.mdx'
import KubeControllerManagerSetup from '@site/docs/tech-docs/kubernetes/components/controllerManager/setupComponent.mdx'
import KubeSchedulerSetup from '@site/docs/tech-docs/kubernetes/components/scheduler/setupComponent.mdx'
import ETCDSetup from '@site/docs/tech-docs/etcd/components/etcd/setupComponent.mdx'

import KubeletInitSystemdUnutStartKubeadm from '@site/docs/tech-docs/kubernetes/components/kubelet/kubeadm/systemdUnitStartInit.mdx'
import KubeletJoinSystemdUnutStartKubeadm from '@site/docs/tech-docs/kubernetes/components/kubelet/kubeadm/systemdUnitStartJoin.mdx'
import KubeletSystemdUnutStart from '@site/docs/tech-docs/kubernetes/components/kubelet/systemdUnit/systemdUnitStart.mdx'
import KubeletConfigFilesDefault from '@site/docs/tech-docs/kubernetes/components/kubelet/configFilesDefault.mdx'

import KubernetesStatusReady from '@site/docs/tech-docs/kubernetes/statusCluster.mdx'
import RbacComponent from '@site/docs/tech-docs/kubernetes/additionalSetup/rbacComponent.mdx'
import UploadConfigsInit from '@site/docs/tech-docs/kubernetes/additionalSetup/uploadConfigsInitComponent.mdx'
import UploadCAInit from '@site/docs/tech-docs/kubernetes/additionalSetup/uploadCAComponent.mdx'
import MarkingInitComponent from '@site/docs/tech-docs/kubernetes/additionalSetup/markingInitComponent.mdx'
import MarkingJoinComponent from '@site/docs/tech-docs/kubernetes/additionalSetup/markingJoinComponent.mdx'
import BaseSetupOS from '@site/docs/tech-docs/kubernetes/setupEnvironments/baseOSSetupComponent.mdx'
import СoreModulesComponent from '@site/docs/tech-docs/kubernetes/setupEnvironments/coreModulesComponent.mdx'
import SysctlsComponent from '@site/docs/tech-docs/kubernetes/setupEnvironments/sysctlsComponent.mdx'
import KubernetesDownloadCA  from '@site/docs/tech-docs/kubernetes/certificates/centerAuthority/downloadCA.mdx'

import TabItem from '@theme/TabItem'
import Tabs from '@theme/Tabs'

import CodeBlock from '@theme/CodeBlock'
import dedent from 'ts-dedent'

### 1. Kubernetes The Hard Way

<em><strong>Возобновляем серию статей по Kubernetes в новом формате.</strong></em>

<p>
Данная статья описывает общий опыт ручного развертывания Kubernetes без использования автоматизированных инструментов, таких как <code>kubeadm</code>. Представленный подход согласуется с нашей документацией, которую мы ведём согласно лучшим практикам и методологиям <code>IAC</code>.
</p>

<p>
Вся конфигурация, приведённая далее, в точности повторяет поведение <code>kubeadm</code>. В результате итоговый кластер сложно отличить — собран ли он с помощью <code>kubeadm</code> или вручную, <strong>«The Hard Way»</strong>.
</p>


{/* truncate */}


### 2. Введение

<p>
  <code>Kubernetes</code> стал де-факто стандартом в управлении контейнерами. Инструменты вроде <code>kubeadm</code> значительно упрощают его развертывание, однако для глубокого понимания принципов работы важно знать, как система устроена изнутри. Без этого трудно проектировать устойчивую и предсказуемую автоматизацию.
</p>

<p>
  В данной статье рассматривается пошаговая ручная настройка кластера — подход <strong>«The Hard Way»</strong>. Для каждой фазы <code>kubeadm</code> будет показано, как достичь аналогичного результата без использования автоматизированных инструментов, чтобы обеспечить чёткое понимание логики его работы.
</p>


### 3.Почему «The Hard Way»

<p>
  Развёртывание Kubernetes вручную требует дополнительных усилий. Однако данный подход обладает следующими преимуществами:
</p>

<ul>
  <li>обеспечивает углублённое понимание архитектуры и внутренней логики работы компонентов Kubernetes;</li>
  <li>позволяет гибко настраивать каждый компонент кластера в соответствии с техническими требованиями.</li>
</ul>


### 4. Компоненты Kubernetes

<p>
Ниже приведён перечень компонентов, необходимых для ручного развёртывания кластера. Для обеспечения совместимости все версии синхронизированы между собой.
</p>

<table>
  <thead>
    <tr>
      <th>Компонент</th>
      <th>Версия</th>
      <th>Назначение</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>containerd</td>
      <td>{COMPONENTS_VERSION.containerd.value}</td>
      <td>Контейнерный рантайм, управляющий жизненным циклом контейнеров.</td>
    </tr>
    <tr>
      <td>runc</td>
      <td>{COMPONENTS_VERSION.runc.value}</td>
      <td>Низкоуровневый инструмент для запуска контейнеров с использованием средств ядра Linux.</td>
    </tr>
    <tr>
      <td>crictl</td>
      <td>{COMPONENTS_VERSION.crictl.value}</td>
      <td>Утилита для отладки CRI-сред с поддержкой взаимодействия с containerd.</td>
    </tr>
    <tr>
      <td>kubectl</td>
      <td>{COMPONENTS_VERSION.kubernetes.value}</td>
      <td>Клиент для взаимодействия с Kubernetes API.</td>
    </tr>
    <tr>
      <td>kubeadm</td>
      <td>{COMPONENTS_VERSION.kubernetes.value}</td>
      <td>Инструмент для автоматизации установки и конфигурации Kubernetes (используется для валидации конфигурации).</td>
    </tr>
    <tr>
      <td>kubelet</td>
      <td>{COMPONENTS_VERSION.kubernetes.value}</td>
      <td>Агент, запускаемый на каждом узле, обеспечивающий выполнение и контроль состояния подов.</td>
    </tr>
    <tr>
      <td>etcd</td>
      <td>{COMPONENTS_VERSION.etcd.value}</td>
      <td>Распределённое хранилище ключ–значение для хранения конфигурации и состояния кластера.</td>
    </tr>
    <tr>
      <td>kube-apiserver</td>
      <td>{COMPONENTS_VERSION.kubernetes.value}</td>
      <td>Компонент, предоставляющий REST API для взаимодействия с кластером.</td>
    </tr>
    <tr>
      <td>kube-controller-manager</td>
      <td>{COMPONENTS_VERSION.kubernetes.value}</td>
      <td>Управляет состоянием объектов в кластере с помощью встроенных контроллеров.</td>
    </tr>
    <tr>
      <td>kube-scheduler</td>
      <td>{COMPONENTS_VERSION.kubernetes.value}</td>
      <td>Отвечает за планирование размещения подов на узлах.</td>
    </tr>
    <tr>
      <td>conntrack</td>
      <td>v1.4.+</td>
      <td>Утилита для отслеживания сетевых соединений (используется iptables и kubelet).</td>
    </tr>
    <tr>
      <td>socat</td>
      <td>1.8.+</td>
      <td>Утилита для проброса портов и организации TCP-туннелей (используется при отладке и проксировании).</td>
    </tr>
  </tbody>
</table>


### 5. Шаги развертывания

<p>
Развёртывание Kubernetes вручную (подход «The Hard Way») включает следующие этапы:
</p>

<ul>
  <li><a href="#6-создание-инфраструктуры">6. Создание инфраструктуры</a></li>
  <li><a href="#7-базовая-настройка-узлов">7. Базовая настройка узлов</a></li>
  <li><a href="#8-загрузка-модулей-ядра">8. Загрузка модулей ядра</a></li>
  <li><a href="#9-настройка-параметров-sysctl">9. Настройка параметров sysctl</a></li>
  <li><a href="#10-установка-компонентов">10. Установка компонентов</a></li>
  <li><a href="#11-настройка-компонентов">11. Настройка компонентов</a></li>
  <li><a href="#12-проверка-готовности-компонентов">12. Проверка готовности компонентов</a></li>
  <li><a href="#13-создание-корневых-сертификатов">13. Создание корневых сертификатов</a></li>
  <li><a href="#14-создание-сертификатов-приложений">14. Создание сертификатов приложений</a></li>
  <li><a href="#15-создание-конфигураций-kubeconfig">15. Создание конфигураций kubeconfig</a></li>
  <li><a href="#16-создание-ключа-подписи-serviceaccount">16. Создание ключа подписи ServiceAccount</a></li>
  <li><a href="#17-проверка-блока-сертификатов">17. Проверка блока сертификатов</a></li>
  <li><a href="#18-создание-static-pod-ов">18. Создание static pod-ов</a></li>
  <li><a href="#19-запуск-службы-kubelet">19. Запуск службы Kubelet</a></li>
  <li><a href="#20-проверка-состояния-кластера">20. Проверка состояния кластера</a></li>
  <li><a href="#21-настройка-ролевой-модели">21. Настройка ролевой модели</a></li>
  <li><a href="#22-загрузка-конфигурации-в-кластер">22. Загрузка конфигурации в кластер</a></li>
  <li><a href="#23-загрузка-корневых-сертификатов-в-кластер">23. Загрузка корневых сертификатов в кластер</a></li>
  <li><a href="#24-маркировка-и-ограничение-узлов">24. Маркировка и ограничение узлов</a></li>
</ul>


### 6. Создание инфраструктуры

<p>
На этом этапе задаётся базовая архитектура кластера, включая его сетевую схему, управляющие узлы и основные параметры.
</p>

#### Сведения о кластере

<table>
  <thead>
    <tr>
      <th>Имя</th>
      <th>Внешний домен</th>
      <th>Версия Kubernetes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{CUSTOM_VALUE.clusterName.value}</td>
      <td>{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>{COMPONENTS_VERSION.kubernetes.value}</td>
    </tr>
  </tbody>
</table>

#### Управляющие узлы

<table>
  <thead>
    <tr>
      <th>Имя</th>
      <th>IP-адрес</th>
      <th>Операционная система</th>
      <th>Ресурсы</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>master-1.{CUSTOM_VALUE.clusterName.value}.{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>10.0.0.16</td>
      <td>ubuntu-24-04-lts</td>
      <td>2CPU / 2RAM / 20GB</td>
    </tr>
    <tr>
      <td>master-2.{CUSTOM_VALUE.clusterName.value}.{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>10.0.0.22</td>
      <td>ubuntu-24-04-lts</td>
      <td>2CPU / 2RAM / 20GB</td>
    </tr>
    <tr>
      <td>master-3.{CUSTOM_VALUE.clusterName.value}.{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>10.0.0.14</td>
      <td>ubuntu-24-04-lts</td>
      <td>2CPU / 2RAM / 20GB</td>
    </tr>
  </tbody>
</table>

#### Балансировщик для kube-apiserver

<table>
  <thead>
    <tr>
      <th>IP-адрес</th>
      <th>Целевая группа</th>
      <th>Порт</th>
      <th>Целевой порт</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>10.0.0.6</td>
      <td>
        - 10.0.0.16<br/>
        - 10.0.0.22<br/>
        - 10.0.0.14
      </td>
      <td>6443</td>
      <td>6443</td>
    </tr>
  </tbody>
</table>

#### DNS-записи

<table>
  <thead>
    <tr>
      <th>A-запись</th>
      <th>IP-адрес</th>
      <th>TTL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>api.{CUSTOM_VALUE.clusterName.value}.{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>10.0.0.6</td>
      <td>60s</td>
    </tr>
    <tr>
      <td>master-1.{CUSTOM_VALUE.clusterName.value}.{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>10.0.0.16</td>
      <td>60s</td>
    </tr>
    <tr>
      <td>master-2.{CUSTOM_VALUE.clusterName.value}.{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>10.0.0.22</td>
      <td>60s</td>
    </tr>
    <tr>
      <td>master-3.{CUSTOM_VALUE.clusterName.value}.{CUSTOM_VALUE.kubernetesBaseDomain.value}</td>
      <td>10.0.0.14</td>
      <td>60s</td>
    </tr>
  </tbody>
</table>

#### Разрешённые порты на управляющих узлах

<table>
  <thead>
    <tr>
      <th>Компонент</th>
      <th>Порт</th>
      <th>Протокол</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>etcd-server</td>
      <td>{PORTS.etcdServer.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>etcd-peer</td>
      <td>{PORTS.etcdPeer.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>etcd-metrics</td>
      <td>{PORTS.etcdMetricServer.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>kube-apiserver</td>
      <td>{PORTS.kubeAPIServer.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>kube-controller-manager</td>
      <td>{PORTS.kubeControllerManager.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>kube-scheduler</td>
      <td>{PORTS.kubeScheduler.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>kubelet-healthz</td>
      <td>{PORTS.kubeletHealthz.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>kubelet-server</td>
      <td>{PORTS.kubeletServer.portNumber}</td>
      <td>TCP</td>
    </tr>
    <tr>
      <td>kubelet-read-only-port</td>
      <td>{PORTS.kubeletReadOnlyPort.portNumber}</td>
      <td>TCP</td>
    </tr>
  </tbody>
</table>

### 7. Базовая настройка узлов
<details open>
<summary>Базовая настройка узлов</summary>
<BaseSetupOS/>
</details>


### 8. Загрузка модулей ядра
<details open>
<summary>Загрузка модулей ядра</summary>
<СoreModulesComponent/>
</details>

### 9. Настройка параметров sysctl
<details open>
<summary>Настройка параметров sysctl</summary>
<SysctlsComponent/>
</details>

### 10. Установка компонентов
<Tabs groupId="component">

  <TabItem value='containerd'>
    <details open>
    <summary>Установка containerd</summary>
    <ContainerdDownloadBIN/>
    </details>
  </TabItem>

  <TabItem value='runc'>
    <details open>
    <summary>Установка runc</summary>
    <RuncDownloadBIN/>
    </details>
  </TabItem>

  <TabItem value='crictl'>
    <details open>
    <summary>Установка crictl</summary>
    <CrictlDownloadBIN/>
    </details>
  </TabItem>

  <TabItem value='kubectl'>
    <details open>
    <summary>Установка kubectl</summary>
    <KubectlDownloadBIN/>
    </details>
  </TabItem>

  <TabItem value='kubeadm'>
    <details open>
    <summary>Установка kubeadm</summary>
    <KubeadmDownloadBIN/>
    </details>
  </TabItem>

  <TabItem value='kubelet'>
    <details open>
    <summary>Установка kubelet</summary>
    <KubeletDownloadBIN/>
    </details>
  </TabItem>

  <TabItem value='etcd'>
    <details open>
    <summary>Установка etcd</summary>
    <EtcdDownloadBIN/>
    </details>
  </TabItem>

</Tabs>

### 11. Настройка компонентов
<Tabs groupId="component">

  <TabItem value='containerd'>
    <details open>
    <summary>Настройка containerd</summary>
    #### Конфигурация компонента
    <ContainerdConfigFiles />

    #### Настройка Systemd Unit компонента
    <ContainerdSetupSystemdUnit />

    #### Старт Systemd Unit
    <ContainerdStartSystemdUnit />
    </details>
  </TabItem>

  <TabItem value='crictl'>
    <details open>
    <summary>Настройка crictl</summary>
    #### Конфигурация компонента
    <CrictlConfigFiles />
    </details>
  </TabItem>

  <TabItem value='kubeadm'>
    <details open>
    <summary>Настройка kubeadm</summary>
    #### Рабочие директории компонента
    <KubeadmDIR/>
    <KubeadmConfigFiles/>
    </details>
  </TabItem>

  <TabItem value='kubelet'>
    <details open>
      <summary>Настройка kubelet</summary>
      #### Настройка Systemd Unit компонента
      <KubeletSetupSystemdUnit />

      #### Старт Systemd Unit
      <KubeletEnableSystemdUnit />

      #### Конфигурация компонента
      <details className="custom-gray-block">
      <summary>Расширенная конфигурация</summary>
      <KubeletConfigFiles />
      </details>

    </details>
  </TabItem>

</Tabs>

### 12. Проверка готовности компонентов
<details open>
<summary>Проверка готовности компонентов</summary>
<ComponentsReady/>
</details>


### 13. Создание корневых сертификатов
<Tabs groupId="phase">

  <TabItem value='init'>
    <details open>
    <summary>Создание корневых сертификатов</summary>

    <Tabs groupId="CA">

      <TabItem value='Kubernetes ЦА'>
        <details open className="custom-gray-block">
        <summary>Kubernetes ЦА</summary>
        <KubernetesCA />
        </details>
      </TabItem>

      <TabItem value='FrontProxy ЦА'>
        <details open className="custom-gray-block">
        <summary>FrontProxy ЦА</summary>
        <FrontProxyCA />
        </details>
      </TabItem>

      <TabItem value='ETCD ЦА'>
        <details open className="custom-gray-block">
        <summary>ETCD ЦА</summary>
        <ETCDCA />
        </details>
      </TabItem>

    </Tabs>
    </details>
  </TabItem>

  <TabItem value='join'>
    <details open>
    <summary>Выгрузка ЦА</summary>
    <KubernetesDownloadCA/>
    </details>
  </TabItem>

</Tabs>

### 14. Создание сертификатов приложений
<Tabs groupId="Certs-APPS">

<TabItem value='Kubelet Server'>
    <details open>
    <summary>Kubelet server</summary>
    <KubeletServer />
    </details>
  </TabItem>

  <TabItem value='API -> Etcd'>
    <details open>
    <summary>K8S-API client > Etcd server</summary>
    <KubeAPIETCDClientMain />
    </details>
  </TabItem>

  <TabItem value='API -> Kubelet'>
    <details open>
    <summary>K8S-API client > Kubelet server</summary>
    <KubeletClientMain />
    </details>
  </TabItem>

  <TabItem value='API Server'>
    <details open>
    <summary>K8S-API server</summary>
    <KubeAPIServerMain />
    </details>
  </TabItem>

  <TabItem value='Proxy -> API'>
    <details open>
    <summary>FrontProxy client > K8S-API</summary>
    <FrontProxyClientMain />
    </details>
  </TabItem>

  <TabItem value='Etcd Client'>
    <details open>
    <summary>Etcd client > Etcd</summary>
    <ETCDClientETCDMain />
    </details>
  </TabItem>

  <TabItem value='Etcd Server'>
    <details open>
    <summary>Etcd server</summary>
    <ETCDServerMain />
    </details>
  </TabItem>

  <TabItem value='Etcd Peer'>
    <details open>
    <summary>Etcd peer > Etcd</summary>
    <ETCDPeerMain />
    </details>
  </TabItem>

</Tabs>

### 15. Создание конфигураций kubeconfig
<Tabs groupId="Certs-APPS">

  <TabItem value='Kubelet'>
    <details open>
    <summary>Kubelet client</summary>
    <KubeAPIClient />
    </details>
  </TabItem>

  <TabItem value='Super Admin'>
    <details open>
    <summary>Super Admin</summary>
    <SuperAdminClientMain />
    </details>
  </TabItem>

  <TabItem value='Admin'>
    <details open>
    <summary>Admin</summary>
    <AdminClientMain />
    </details>
  </TabItem>

  <TabItem value='Controller'>
    <details open>
    <summary>Kube Controller Manager</summary>
    <KubeControllerKubeAPIClient />
    </details>
  </TabItem>

  <TabItem value='Scheduler'>
    <details open>
    <summary>Kube Scheduler</summary>
    <KubeSchedulerCerts />
    </details>
  </TabItem>

</Tabs>

### 16. Создание ключа подписи ServiceAccount
<details open>
<summary>Создание ключа подписи ServiceAccount</summary>
<ServiceAccount/>
</details>

### 17. Проверка блока сертификатов
<details open>
<summary>Проверка блока сертификатов</summary>
<Examination/>
</details>

### 18. Создание static pod-ов
<Tabs groupId="Componenet">

  <TabItem value='Kube-API'>
    <details open>
    <summary>Kube-API</summary>
    <KubeApiSetup/>
    </details>
  </TabItem>

  <TabItem value='Kube Controller Manager'>
    <details open>
    <summary>Kube Controller Manager</summary>
    <KubeControllerManagerSetup/>
    </details>
  </TabItem>

  <TabItem value='Kube Scheduler'>
    <details open>
    <summary>Kube Controller Manager</summary>
    <KubeSchedulerSetup/>
    </details>
  </TabItem>

  <TabItem value='ETCD'>
    <details open>
    <summary>ETCD</summary>
    <ETCDSetup/>
    </details>
  </TabItem>

</Tabs>


### 19. Запуск службы Kubelet
<Tabs groupId="phase">

  <TabItem value='init'>
    <details open>
      <summary>Запуск/Настройка kubelet</summary>
    <Tabs groupId="install-type">

      <TabItem value='HardWay'>
        > Данный конфигурационный файл требуется, что бы запустился `Kubelet`.

        <details className="custom-gray-block">
        <summary>Kubelet default config</summary>
        <KubeletConfigFilesDefault/>
        </details>
        <KubeletSystemdUnutStart/>
      </TabItem>

      <TabItem value='Kubeadm'>
        <KubeletInitSystemdUnutStartKubeadm/>
      </TabItem>

    </Tabs>
    </details>
  </TabItem>

  <TabItem value='join'>
    <details open>
      <summary>Запуск/Настройка kubelet</summary>
    <Tabs groupId="install-type">

      <TabItem value='HardWay'>

        <details className="custom-gray-block">
        <summary>Kubelet default config</summary>
        <KubeletConfigFilesDefault/>
        </details>
        <KubeletSystemdUnutStart/>
      </TabItem>

      <TabItem value='Kubeadm'>
        <KubeletJoinSystemdUnutStartKubeadm/>
      </TabItem>

    </Tabs>
    </details>
  </TabItem>

</Tabs>

### 20. Проверка состояния кластера
<details open>
<summary>Проверка состояния кластера</summary>
<KubernetesStatusReady/>
</details>

### 21. Настройка ролевой модели
<Tabs groupId="phase">

  <TabItem value='init'>
    <details open>
    <summary>Настройка ролевой модели Kubeadm</summary>
    <RbacComponent/>
    </details>
  </TabItem>

</Tabs>

### 22. Загрузка конфигурации в кластер
<Tabs groupId="phase">

  <TabItem value='init'>
    <details open>
    <summary>Настройка ролевой модели Kubeadm</summary>
    <UploadConfigsInit/>
    </details>
  </TabItem>

</Tabs>


### 23. Загрузка корневых сертификатов в кластер
<Tabs groupId="phase">

  <TabItem value='init'>
    <details open>
    <summary>Загрузка корневых сертификатов в Kubernetes</summary>
    <UploadCAInit/>
    </details>
  </TabItem>

</Tabs>

### 24. Маркировка и ограничение узлов
<Tabs groupId="phase">

  <TabItem value='init'>
    <details open>
    <summary>Маркировка и ограничение узла</summary>
    <MarkingInitComponent/>
    </details>
  </TabItem>

  <TabItem value='join'>
    <details open>
    <summary>Маркировка и ограничение узла</summary>
    <MarkingJoinComponent/>
    </details>
  </TabItem>

</Tabs>
