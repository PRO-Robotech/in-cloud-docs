"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[97245],{65538:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>i,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"tech-docs/kubernetes/components/kubeadm/phases/phaseKubeadmInit","title":"phaseKubeadmInit","description":"\u041f\u0443\u0442\u044c","source":"@site/docs/tech-docs/kubernetes/components/kubeadm/phases/phaseKubeadmInit.mdx","sourceDirName":"tech-docs/kubernetes/components/kubeadm/phases","slug":"/tech-docs/kubernetes/components/kubeadm/phases/phaseKubeadmInit","permalink":"/tech-docs/kubernetes/components/kubeadm/phases/phaseKubeadmInit","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var s=n(74848),c=n(28453);const t={},l=void 0,i={},o=[];function h(e){const d={code:"code",pre:"pre",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.pre,{children:(0,s.jsx)(d.code,{children:"root@compute:/home/user# kubeadm init phase\n\n*****\nAvailable Commands:\n  addon              Install required addons for passing conformance tests\n  bootstrap-token    Generates bootstrap tokens used to join a node to a cluster\n  certs              Certificate generation\n  control-plane      Generate all static Pod manifest files necessary to establish the control plane\n  etcd               Generate static Pod manifest file for local etcd\n  kubeconfig         Generate all kubeconfig files necessary to establish the control plane and the admin kubeconfig file\n  kubelet-finalize   Updates settings relevant to the kubelet after TLS bootstrap\n  kubelet-start      Write kubelet settings and (re)start the kubelet\n  mark-control-plane Mark a node as a control-plane\n  preflight          Run pre-flight checks\n  show-join-command  Show the join command for control-plane and worker node\n  upload-certs       Upload certificates to kubeadm-certs\n  upload-config      Upload the kubeadm and kubelet configuration to a ConfigMap\n"})}),"\n",(0,s.jsx)("div",{className:"scrollable-x",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"\u041f\u0443\u0442\u044c"}),(0,s.jsx)("th",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$addon.all"})}),(0,s.jsx)("td",{children:"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$addon.coredns"})}),(0,s.jsx)("td",{children:"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 CoreDNS"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$addon.kube-proxy"})}),(0,s.jsx)("td",{children:"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 kube-proxy"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$certs.all"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$certs.apiserver"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0434\u043b\u044f Kubernetes API"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$certs.apiserver-etcd-client"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 apiserver \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a etcd"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$certs.apiserver-kubelet-client"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 apiserver \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a kubelet"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"ca"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0430\u043c\u043e\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 Kubernetes \u0426\u0410"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)(d.code,{children:"etcd-ca"})," "]}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0430\u043c\u043e\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 ETCD \u0426\u0410"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"front-proxy-ca"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0430\u043c\u043e\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 Front Proxy \u0426\u0410"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"etcd-healthcheck-client"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0434\u043b\u044f liveness probes etcd"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"etcd-peer"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0438 \u0443\u0437\u043b\u043e\u0432 etcd"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"etcd-server"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 etcd-\u0441\u0435\u0440\u0432\u0435\u0440\u0430"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"front-proxy-client"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 front-proxy \u043a\u043b\u0438\u0435\u043d\u0442\u0430"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"sa"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043a\u043b\u044e\u0447\u0438 \u0434\u043b\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"bootstrap-token"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 bootstrap-\u0442\u043e\u043a\u0435\u043d\u044b"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$control-plane.all"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 Pod \u043c\u0430\u043d\u0438\u0444\u0435\u0441\u0442\u044b"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$control-plane.apiserver"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u043d\u0438\u0444\u0435\u0441\u0442 Pod \u0434\u043b\u044f kube-apiserver"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$control-plane.controller-manager"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u043d\u0438\u0444\u0435\u0441\u0442 Pod \u0434\u043b\u044f kube-controller-manager"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$control-plane.scheduler"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u043d\u0438\u0444\u0435\u0441\u0442 Pod \u0434\u043b\u044f kube-scheduler"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$etcd.local"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u043d\u0438\u0444\u0435\u0441\u0442 Pod \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e etcd"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubeconfig.all"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u044b kubeconfig"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubeconfig.controller-manager"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 kubeconfig \u0434\u043b\u044f kube-controller-manager"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubeconfig.kubelet"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 kubeconfig \u0434\u043b\u044f kubelet (\u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430)"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubeconfig.scheduler"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 kubeconfig \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubeconfig.admin"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 kubeconfig \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0438 kubeadm"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubeconfig.super-admin"})}),(0,s.jsx)("td",{children:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 kubeconfig \u0434\u043b\u044f \u0441\u0443\u043f\u0435\u0440-\u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubelet-finalize.all"})}),(0,s.jsx)("td",{children:"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0432\u0441\u0435 \u044d\u0442\u0430\u043f\u044b kubelet-finalize"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$kubelet-finalize.experimental-cert-rotation"})}),(0,s.jsx)("td",{children:"\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0440\u043e\u0442\u0430\u0446\u0438\u044e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 kubelet"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"kubelet-start"})}),(0,s.jsx)("td",{children:"\u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 kubelet"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"mark-control-plane"})}),(0,s.jsx)("td",{children:"\u041f\u043e\u043c\u0435\u0447\u0430\u0435\u0442 \u0443\u0437\u0435\u043b \u043a\u0430\u043a control plane"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"preflight"})}),(0,s.jsx)("td",{children:"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"show-join-command"})}),(0,s.jsx)("td",{children:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0443\u0437\u043b\u043e\u0432"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"upload-certs"})}),(0,s.jsx)("td",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0432 kubeadm-certs"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$upload-config.all"})}),(0,s.jsx)("td",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0432\u0441\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0432 ConfigMap"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$upload-config.kubeadm"})}),(0,s.jsx)("td",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 kubeadm ClusterConfiguration \u0432 ConfigMap"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(d.code,{children:"$upload-config.kubelet"})}),(0,s.jsx)("td",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e kubelet \u0432 ConfigMap"})]})]})]})})]})}function a(e={}){const{wrapper:d}={...(0,c.R)(),...e.components};return d?(0,s.jsx)(d,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);